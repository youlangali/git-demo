<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <script>
   //    封装type
    //    1、区分引用值和原始值
    //     2、区分引用值中的各种
    function type(target) {
        var temp = {
            "[object Number]": "number - object",
            "[object String]": "string - object",
            "[object Boolean]": "boolean - object",
            "[object Array]": "array",
            "[object Object]": "object",
        }
        var ret = typeof (target);
        if (ret == null) {
            return "null";
        } else if (ret == "object") {
            var str = Object.prototype.toString.call(target);
            return temp[str];
        } else {
            return ret;
        }
    }
    
    

  //      数组去重   哈希方法

    var arr = [3, 3, 4, 4, 5, 5, 5, 5, 6, 7];
    Array.prototype.unique = function () {
        var temp = {};
        var target = [];
        var len = this.length;//  防止每次循环都要计算this.length，直接将值带进去就行
        for (var i = 0; i < len; i++) {
            var th = this[i];
            if (!temp[th]) {
                temp[th] = "abc"
                target.push(th);
            }
        }
        return target;
    }



     //   封装兼容性的addEvent(elem,type,handle)方法

        function addEvent(elem,type,handle){
            if(elem.addEventListener){
                elem.addEventListener(type,handle,false)
            }else if(elem.attachEvent){
                elem.attachEvent('on'+ type,handle)
            }else{
                elem['on' + type] = handle;
            }
        }

//     封装  阻止冒泡事件
    function cancelHandler(e) {
        var e = e || window.event;
        if (e.prevenDefault) {
            e.prevenDefault();
        } else {
            e.returnValue = false;
        }
    }

    

     //   封装阻止默认事件的函数  cancelHandler(event)

            function cancelHandler(e){
                var e = e || window.event;
                if(e.returnValue){
                    e.returnValue = false;
                }else{
                    e.prevenDefault();
                }
            }
    </script>
</body>
</html>