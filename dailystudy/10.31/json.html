<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <!-- IE独有，等所欲dom文档加载完才执行 -->
    <!-- <script src="joob.js" defer = "defer">
    </script> -->


    <!-- W3C标准，只能对外部的引用的js有作用 -->
    <!-- <script src="joob.js" synac = "synac"></script> -->
</head>
<body>
    <script>
         var script = document.createElement('script');
         script.type = 'text/javascript';
         
         document.head.appendChild(script);
            // script.onload = function(){//兼容性很好，firfox,opera ,chrome,safari
            //     test();
            // }

            // script.onreadystatechange = function(){//   IE独有
            //     if(script.readyState == 'completed' || script.readyState == 'loaded'){
            //         test();
            //     }
            // }

            //   兼容写法
                //      当需要满足条件后执行外部js中的函数时，
              function loadScript(url,callBack){
                  script.type = 'text/javascript';
                  if(script.onreadystatechange){
                      if(script.readyState == 'completed' || script.readyState == 'loaded'){
                        //   eval(callBack);
                        // callBack();
                        tool[callBack]();
                      }
                  }else{
                      script.onload = function(){
                        // eval(callBack);
                        // callBack();
                        tool[callBack]();
                      }
                  }
                  script.src = url;
              }
            //   loadScript('tools.js',function(){test()})
              loadScript('tools.js','test')
              //直接传送变量会undefined，所以传送‘test（）’，但是要用eval（callback），来运行字符串形式的代码
              //  或者传送一个函数引用，function(){test()}，传进去不会访问内部变量
            // script.src = 'tools.js';
    </script>
    <script>
    // var obj = {
    //     "name" : "deng",
    //     "age" : 123
    // }
    // var str = JSON.stringify(obj);
    // var newObj = JSON.parse(str);

    // domTree +  cssTree  =  randerTree
    // reflow 重排  dom节点的删除，添加
    //              dom节点的宽高变化，位置变化，display none -->block;
    //              offsetWidth   offsetLeft

    //   repaint 重绘





    </script>
</body>
</html>