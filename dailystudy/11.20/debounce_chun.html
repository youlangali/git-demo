<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <!-- 节流 -->
    <!-- <div class="num">0</div>
    <button class="btn">点击</button> -->

    <!-- 防抖 -->
    <input class="ip" type="text">
   <script>
       //  纯函数：一个函数的返回结果只能依赖他的参数，并且执行过程中不会产生副作用（）


    //    var num = 18;
    //    function compare(x){
    //     //    return x > 18;//  纯函数
    //         // return x > num   //  非纯函数
    //    }
       
//   非纯函数
    //    var arr = [{name: 'duyi'}];
    //    function add (arr){
    //        var obj = {name: 'cst'};
    //        var newArr = [];
    //        for(var i = 0;i < arr.length;i ++){
    //            newArr[i] = arr[i];
    //        }
    //        newArr.push(obj);
    //        return newArr;
    //    }

    //  纯函数
        // function add(x,y){
        //     return x +y
        // }
        // var num1 = 1;
        // var num2 = 2;
        // add(num1,num2);


//     非纯函数
        // var gArr = [];
        // function add(arr){
        //     arr.push(1);
        //     return arr;
        // }
        // add(gArr);//  非纯函数，依赖于gArr,gArr是引用值；
       //   非纯函数，改变了外在arr
//    var arr = [];
//    function add (arr){
//        var name = 'cst';
//        arr.push(name);
//    }
//    add(arr);
//    console.log(arr);


   </script> 
   <script>
//    防抖


    //     var personArr = [
    //     {name: '房',src: "images/1.jpg", dis: '爱学习', sex: 'm', age: 18 },
    //     {name: '滴滴',src: "images/3.jpg", dis: '加班', sex: 'm', age: 22 },
    //     {name: '腾讯',src: "images/4.jpg", dis: '休息', sex: 'f', age: 19 },
    //     {name: '阿里',src: "images/5.jpg", dis: '抄袭', sex: 'f', age: 25 },
    //     ]
    //  var oInp = document.getElementsByClassName('ip')[0];
    // oInp.oninput = function(){
    //     console.log(filterByText(this.value,personArr));
    // }
    // function filterByText (text,arr){
    //     var newArr = [];
    //     for(var i = 0;i < personArr.length;i ++){
    //         personArr[i].name.indexOf(text) != -1 ? newArr.push(personArr[i]) : '';
    //     }
    //     return newArr;
    // }

    //   节流
    // 场景：
    //  窗口调整(resize)
    // 页面滚动(scroll)
    // 抢购疯狂点击(mousedown)
    //   思想：当用户一段时间之内只能算点击一次，只有这段时间过后才能重新点击

    // var num = document.getElementsByClassName('num')[0];
    // var btn = document.getElementsByClassName('btn')[0];
    // // btn.onclick = function(){
    // //     num.innerText = parseInt(num.innerText) + 1;
    // // };
 

    // btn.onclick = throttle(hander,1000);
    // function throttle(hander,wait){
    //     var lastTime = 0;   //   只需要使用一次，后面不需要使用，不能放在循环使用的函数中
    //     // console.log(lastTime);
    //     return function(){
    //         // console.log(arguments);
    //         var nowTime = new Date().getTime();
    //         if (nowTime - lastTime > wait) {
    //             hander.apply(this,arguments)
    //             lastTime = nowTime;
    //         }
    //     }
    // }
    // function hander(){
    //     // console.log(this,arguments);
    //     num.innerText = parseInt(num.innerText) + 1;
    // }
   

    //   防抖
    // var personArr = [
    //     {name: '房',src: "images/1.jpg", dis: '爱学习', sex: 'm', age: 18 },
    //     {name: '房',src: "images/3.jpg", dis: '加班', sex: 'm', age: 22 },
    //     {name: '腾讯',src: "images/4.jpg", dis: '休息', sex: 'f', age: 19 },
    //     {name: '阿里',src: "images/5.jpg", dis: '抄袭', sex: 'f', age: 25 },
    //     ]
    //  var oInp = document.getElementsByClassName('ip')[0];
    // // oInp.oninput = function(){
    // //     // console.log(this.value);
    // //     fd(handler,500);
    // // }
    // oInp.oninput = wrap(handler,1000);//  当你在调用事件时，后面被调用的函数最终一定是个匿名函数，并且没有参数，才可以调整this,arguments
    // function wrap(handler,dely){
    //     var timer = null;
    // return function (){
    //     var self = this,arg = arguments;
    //     clearTimeout(timer);
    //     timer = setTimeout(function(){
    //         handler.apply(self,arg);
    //     },dely)
    // }
    // }
    
    // function handler(){
    //     // console.log(oInp.value);
    //     // console.log(this,arguments)
    // filterByText(this.value,personArr);
    // // console.log(personArr);
    // }
    // function filterByText(text,arr){
    //     var len = arr.length;
    //     var newArr = [];
    //     for(var i = 0;i < len;i ++){
    //     arr[i].name.indexOf(text) != -1 ? newArr.push(text) : '';

    //     }
    //     console.log(newArr);
    // }




   </script>
</body>
</html> 